# 用語・モデルの意味 #
[用語集](Glossary.md)を参照。

# ダイヤグラム #
編集URL http://www.gliffy.com/gliffy/#d=1788215&t=ddd-wms_Domain_Model

## 初期バージョン-0.0.1 ##
![http://www.gliffy.com/pubdoc/1788215/L.jpg](http://www.gliffy.com/pubdoc/1788215/L.jpg)

## ヒアリング後-0.0.2 ##
![http://farm4.static.flickr.com/3494/3833270763_7c1370369d_o.jpg](http://farm4.static.flickr.com/3494/3833270763_7c1370369d_o.jpg)

### 説明 ###
  * とりあえずのところ、倉庫や棚からは物品の種類（物品タイプとしてます）ごとの履歴にしか参照がなく、場所ごとにサマるのは簡単だが、特定の棚に保管されている物品IDを列挙しようとすると、クエリを投げるようにしている。これは、業務的には物品から棚を特定する作業が大半を占めていることからきており、棚から物品への参照は頻繁ではないので、モデルを単純にするために切ってある。
  * 書き忘れているが、物品から場所へは参照が存在しているので、特定の物品がどの場所（XX置き場、棚...）にあるかは辿れば取れる。
  * 場所-エントリ-トランザクションは、Account（勘定）パターンにしてみた。在庫管理はフロー管理を前提にしていたが、そもそも聞いてなかった。これでいいのだろうか。
  * 入荷待ち置き場、出荷待ち置き場、倉庫などは「場所」として汎化しており、AccountパターンのAccountになっている。場所に対する移動（入・出）はAccountに対するエントリの挿入であらわされ、特定の場所における現在の物品の数は、エントリをサマることで導出する。
  * よくよく考えると、期首在庫数がないので追加する必要がある。期首在庫の更新業務、棚卸しが必要になりそう。
  * 物品タイプは、実際には業務上「物品」と呼ばれているらしいので、修正が必要。その場合、検品エラーとなった物品の特定方法が不明。

## 0.0.3 ##
![http://farm3.static.flickr.com/2440/3842074487_fe5f3eb0a1_o.png](http://farm3.static.flickr.com/2440/3842074487_fe5f3eb0a1_o.png)

### 説明 ###
  * ノートで色々書いたからとりあえず省略